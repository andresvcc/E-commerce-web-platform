import { Meta, Story, Canvas } from '@storybook/addon-docs';

import { C4ModelWrapper, Minmaps } from 'helpers';

<Meta title="Mobsya/Procedures/Documentation storybook" />

Procedure for Editing Thymio Platform Documentation
============================================================
## Guide to edit Thymio's platform docs, from setup to committing changes.

### Steps:

1. **Installing Node Version Manager (NVM)**:

   a. **For Linux/MacOS**:

      i. Open your terminal.

      ii. Install `nvm` by running:
      ```bash
      curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash
      ```

      iii. Close and reopen your terminal.

      iv. Verify the installation of `nvm` by running:
      ```bash
      nvm --version
      ```

   b. **For Windows**:

      i. Visit the [nvm-windows GitHub repository](https://github.com/coreybutler/nvm-windows).

      ii. Download the latest release and follow the installation instructions.

      iii. Open the command prompt.

      iv. Verify the installation of `nvm` by checking its version:
      ```bash
      nvm version
      ```

2. **Installing Node.js v18.16.0 using NVM**:

   ```bash
   nvm install 18.16.0
   ```

   Then, set it as the default version:
   ```bash
   nvm use 18.16.0
   ```

3. **Installing Yarn**:

   After installing Node.js, you can install Yarn globally using npm:

   ```bash
   npm install -g yarn
   ```

   Verify the installation by checking the Yarn version:
   ```bash
   yarn --version
   ```

4. **Setting Up the thymio-platform Project**:

   a. In your terminal or command prompt, navigate to the directory where you want to clone the project.

   b. Clone the `thymio-platform` project from GitHub:

   ```bash
   git clone git@github.com:Mobsya/thymio-platform.git
   ```

   c. Navigate to the cloned project directory:

   ```bash
   cd thymio-platform
   ```

   d. Install the project dependencies using Yarn:

   ```bash
   yarn install
   ```

5. **Setting Up the Project Environment**:

   b. Use your preferred text editor to open and edit the `/documentation/documents/stories/thymio3.library.stories.mdx` file. 

   c. Make the necessary modifications within the text editor. Save and close the file.

   d. Similarly, use your text editor to open and edit the `/documentation/documents/stories/thymio3.firmware.stories.mdx` file.

   e. Make the necessary modifications. Save and close the file.

6. **Verifying the Changes**:

   a. After making modifications, you might want to run the project to view your changes:
   ```bash
   yarn storybook
   ```

   b. Open the provided link in your browser to view the stories and ensure your modifications are reflected correctly.

   c. Stop the project by pressing `Ctrl + C` in the terminal or command prompt.

   d. launch the test suite to ensure that the changes do not break the project:
   ```bash
    yarn test
    ```

7. **Committing the Changes using Commitizen**:

   a. Navigate back to the root directory of `thymio-platform`:

   b. Stage the modified files:
   ```bash
   git add .
   ```

   c. Commit the changes using `commitizen`:
   ```bash
   yarn commit
   ```

   d. Follow the prompts provided by `commitizen` to complete the commit process.

   e. Push the changes to the GitHub repository:
   ```bash
   git push origin master
   ```

   